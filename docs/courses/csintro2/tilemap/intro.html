<!DOCTYPE html>
<html lang="" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
	xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
	<meta charset="UTF-8">
	<title>Microsoft MakeCode Arcade</title>
	<meta name="Description" content="Develop your programming skills by quickly creating and modding retro arcade games with Blocks and JavaScript in the MakeCode editor" />

	<!-- ifdef incontexttranslations endif -->
	
<!-- include meta.html -->
<!-- This file is typically overriden by the target, with own Twitter
     account etc. Most data is taken from the theme file though.  
  -->

<!-- include robotsmeta.html -->

<!-- end include robotsmeta.html -->

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@msmakecode" />
<meta name="twitter:title" content="Microsoft MakeCode Arcade" />
<meta name="twitter:description" content="Develop your programming skills by quickly creating and modding retro arcade games with Blocks and JavaScript in the MakeCode editor" />
<meta name="twitter:image" content="/static/thumbnail_play_video.png" />

<meta property="og:title" content="Microsoft MakeCode Arcade" />
<meta property="og:site_name" content="Microsoft MakeCode" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Develop your programming skills by quickly creating and modding retro arcade games with Blocks and JavaScript in the MakeCode editor" />
<meta property="fb:app_id" content="" />
<meta property="og:image" content="/static/thumbnail_play_video.png" />

<meta name="format-detection" content="telephone=no">
<link rel="apple-touch-icon" href="docs/static/icons/favicon.ico">
<link rel="icon" type="image/png" href="docs/static/icons/favicon.ico">
<link rel="shortcut icon" href="docs/static/icons/favicon.ico">
<meta name="theme-color" content="">

<!-- end include meta.html -->

	
<!-- include head.html -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">

<link rel="stylesheet" data-rtl="/blb/rtlsemantic.css" href="/pxt-arcade-app/semantic.css" />
<link id="blocklycss"  data-rtl="/blb/rtlblockly.css" rel="stylesheet" href="/pxt-arcade-app/blockly.css" />
<link rel="stylesheet" href="/pxt-arcade-app/docfiles/style.css" />
<link rel="stylesheet" href="/pxt-arcade-app/docfiles/vs.css" />
<link rel="stylesheet" href="/pxt-arcade-app/docfiles/target.css" />

<script src="/pxt-arcade-app/jquery.js" type="text/javascript"></script>
<script src="/pxt-arcade-app/semantic.js" type="text/javascript"></script>
<script src="/pxt-arcade-app/docfiles/target.js" type="text/javascript"></script>
<script src="/pxt-arcade-app/embed.js" type="text/javascript"></script>
<script src="/pxt-arcade-app/docfiles/docs.js" type="text/javascript"></script>

<style>
    
</style>

<!-- end include head.html -->


</head>

<body id='root' class='root'>
	<div id="accessibleMenu" class="ui accessibleMenu borderless fixed menu docs" role="menubar">
		
            <a href="#maincontent" class="ui item link" tabindex="0" role="menuitem">Skip to main content</a>
        
	</div>

	
<!-- include tocheader.html -->
<div id="top-bar" class="ui fixed accent borderless inverted main menu hideprint docs" role="menubar">
    <div>
        
            <a id="togglesidebar" class="launch icon item" tabindex="0" title="Side menu" aria-label="Side menu" role="menuitem" aria-expanded="false">
                <i class="content icon"></i>
            </a>
        
        <div class="item" role="menuitem">
            <div class="header-org-logo">
                <img src="/static/logo/Microsoft_logo_rgb_W-white_D.png" alt="Microsoft">
            </div>
            <div class="header-org-logo-sm">
                <img src="/static/logo/Microsoft_logo_rgb_W-white_D-square.png" alt="Microsoft">
            </div>
            <div class="header-title"><span>MakeCode</span></div>
        </div>
    </div>
    <div>
        <div class="item">
            <form id="tocsearch1" class="search" role="form" method="get" action="https://www.bing.com/search">
                <div class="ui fluid icon input">
                    <input type="hidden" name="q1" value="site:https://arcade.makecode.com/" />
                    
                <input type="search" name="q" placeholder="Search..." aria-label="Search Documentation">
                <i onclick="document.getElementById('tocsearch1').submit();" tabindex="0" class="search link icon" aria-label="Search" role="button"></i>
            
                </div>
            </form>
        </div>
    </div>
</div>

<div id="side-menu" class="ui vertical accent inverted sidebar menu left hideprint docs" role="menubar">
    <!-- TOC Menu (tocheader.html) -->
    <div class="menuContainer" role="menu">
        
    <a class="item " href="/pxt-arcade-app/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/pxt-arcade-app/docs/faq.html" role="menuitem">FAQ</a>


    <a class="item " href="/pxt-arcade-app/docs/projects.html" role="menuitem">Projects</a>


    <a class="item " href="/pxt-arcade-app/docs/github.html" role="menuitem">GitHub</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/reference.html">Reference</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/reference/sprites.html" role="menuitem">sprites</a>


    <a class="item " href="/pxt-arcade-app/docs/reference/controller.html" role="menuitem">controller</a>


    <a class="item " href="/pxt-arcade-app/docs/reference/game.html" role="menuitem">game</a>


    <a class="item " href="/pxt-arcade-app/docs/reference/music.html" role="menuitem">music</a>


    <a class="item " href="/pxt-arcade-app/docs/reference/scene.html" role="menuitem">scene</a>


    <a class="item " href="/pxt-arcade-app/docs/reference/info.html" role="menuitem">info</a>


    <a class="item " href="/pxt-arcade-app/docs/reference/images.html" role="menuitem">images</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/blocks.html">Blocks</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/blocks/on-start.html" role="menuitem">On Start</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/blocks/loops.html">Loops</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/blocks/loops/repeat.html" role="menuitem">repeat</a>


    <a class="item " href="/pxt-arcade-app/docs/blocks/loops/for.html" role="menuitem">for</a>


    <a class="item " href="/pxt-arcade-app/docs/blocks/loops/while.html" role="menuitem">while</a>


    <a class="item " href="/pxt-arcade-app/docs/blocks/loops/for-of.html" role="menuitem">for of</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/blocks/logic.html">Logic</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/blocks/logic/if.html" role="menuitem">if</a>


    <a class="item " href="/pxt-arcade-app/docs/blocks/logic/boolean.html" role="menuitem">Boolean</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/blocks/variables.html">Variables</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/blocks/variables/assign.html" role="menuitem">assign</a>


    <a class="item " href="/pxt-arcade-app/docs/blocks/variables/change.html" role="menuitem">change var</a>


    <a class="item " href="/pxt-arcade-app/docs/blocks/variables/var.html" role="menuitem">var</a>

        </div>
    </div>


    <a class="item " href="/pxt-arcade-app/docs/blocks/math.html" role="menuitem">Math</a>


    <a class="item " href="/pxt-arcade-app/docs/blocks/javascript-blocks.html" role="menuitem">JavaScript blocks</a>


    <a class="item " href="/pxt-arcade-app/docs/blocks/custom.html" role="menuitem">Custom blocks</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/python.html">Python</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/python/call.html" role="menuitem">Calling</a>


    <a class="item " href="/pxt-arcade-app/docs/python/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/pxt-arcade-app/docs/python/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/pxt-arcade-app/docs/python/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/pxt-arcade-app/docs/python/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/pxt-arcade-app/docs/python/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/pxt-arcade-app/docs/python/classes.html" role="menuitem">Classes</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/javascript.html">JavaScript</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/javascript/call.html" role="menuitem">Calling</a>


    <a class="item " href="/pxt-arcade-app/docs/javascript/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/pxt-arcade-app/docs/javascript/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/pxt-arcade-app/docs/javascript/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/pxt-arcade-app/docs/javascript/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/pxt-arcade-app/docs/javascript/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/pxt-arcade-app/docs/javascript/types.html" role="menuitem">Types</a>


    <a class="item " href="/pxt-arcade-app/docs/javascript/classes.html" role="menuitem">Classes</a>


    <a class="item " href="/pxt-arcade-app/docs/javascript/interfaces.html" role="menuitem">Interfaces</a>


    <a class="item " href="/pxt-arcade-app/docs/javascript/generics.html" role="menuitem">Generics</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/types.html">Types</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/types/number.html" role="menuitem">Number</a>


    <a class="item " href="/pxt-arcade-app/docs/types/string.html" role="menuitem">String</a>


    <a class="item " href="/pxt-arcade-app/docs/types/boolean.html" role="menuitem">Boolean</a>


    <a class="item " href="/pxt-arcade-app/docs/types/array.html" role="menuitem">Array</a>


    <a class="item " href="/pxt-arcade-app/docs/types/function.html" role="menuitem">Function</a>


    <a class="item " href="/pxt-arcade-app/docs/types/image.html" role="menuitem">Image</a>


    <a class="item " href="/pxt-arcade-app/docs/types/sprite.html" role="menuitem">Sprite</a>

        </div>
    </div>


    <a class="item " href="/pxt-arcade-app/docs/block-gallery.html" role="menuitem">Blocks Gallery</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Miscellaneous</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/pxt-arcade-app/docs/support.html" role="menuitem">Support</a>


    <a class="item " href="/pxt-arcade-app/docs/translate.html" role="menuitem">Translate</a>


    <a class="item " href="/pxt-arcade-app/docs/share.html" role="menuitem">Sharing projects</a>


    <a class="item " href="/pxt-arcade-app/docs/multiplayer.html" role="menuitem">Multiplayer</a>


    <a class="item " href="/pxt-arcade-app/docs/offline.html" role="menuitem">Offline support</a>


    <a class="item " href="/pxt-arcade-app/docs/save.html" role="menuitem">Save</a>


    <a class="item " href="/pxt-arcade-app/docs/identity/sign-in.html" role="menuitem">Sign In</a>


    <a class="item " href="/pxt-arcade-app/docs/identity/cloud-sync.html" role="menuitem">Cloud Sync</a>


    <a class="item " href="/pxt-arcade-app/docs/vscode.html" role="menuitem">VS Code</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/hardware.html">Hardware</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/hardware/errors.html" role="menuitem">Errors</a>


    <a class="item " href="/pxt-arcade-app/docs/hardware/adding.html" role="menuitem">Adding New Board</a>


    <a class="item " href="/pxt-arcade-app/docs/hardware/raspberry-pi.html" role="menuitem">Raspberry Pi</a>


    <a class="item " href="/pxt-arcade-app/docs/hardware/makey-makey.html" role="menuitem">Makey Makey</a>


    <a class="item " href="/pxt-arcade-app/docs/hardware/shoebox-controller.html" role="menuitem">Shoebox Controller</a>


    <a class="item " href="/pxt-arcade-app/docs/hardware/dev.html" role="menuitem">Dev</a>


    <a class="item " href="/pxt-arcade-app/docs/hardware/dbg.html" role="menuitem">Debug connector</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Developers</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/cli.html" role="menuitem">Command Line Interface</a>


    <a class="item " href="/pxt-arcade-app/docs/code.html" role="menuitem">Visual Studio Code support</a>


    <a class="item " href="/pxt-arcade-app/docs/blocks-embed.html" role="menuitem">Blocks Embed</a>


    <a class="item " href="/pxt-arcade-app/docs/developer/images.html" role="menuitem">Art, images, colors</a>


    <a class="item " href="/pxt-arcade-app/docs/developer/sound.html" role="menuitem">Sounds</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/lessons.html">Lessons</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/lessons/cherry-pickr.html" role="menuitem">Cherry Pickr</a>


    <a class="item " href="/pxt-arcade-app/docs/lessons/barrel-dodger.html" role="menuitem">Barrel Dodger</a>


    <a class="item " href="/pxt-arcade-app/docs/lessons/dance-party.html" role="menuitem">Dance Party</a>


    <a class="item " href="/pxt-arcade-app/docs/lessons/block-out.html" role="menuitem">BlockOut</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-arcade-app/docs/courses.html">Courses</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-arcade-app/docs/courses/csintro1.html" role="menuitem">CS Intro 1</a>


    <a class="item " href="/pxt-arcade-app/docs/courses/csintro2.html" role="menuitem">CS Intro 2</a>


    <a class="item " href="/pxt-arcade-app/docs/courses/csintro3.html" role="menuitem">CS Intro 3</a>

        </div>
    </div>

    </div>
</div>
<!-- end include tocheader.html -->


	<div id="docs" class="pusher">

		<div class="article" id="maincontent">
			<div class="article-inner">

				
<!-- include header.html -->
<div class="ui one column padded grid hideprint">
    <div class="column ui container">
        
    </div>
</div>
<!-- end include header.html -->


				<div class="main ui container fluid mainbody">
					<button id="printbtn" class="circular ui icon right floated button hideprint hidemobile"
						title="Print" aria-label="Print">
						<i class="icon print"></i>
					</button>
					
    <div class="ui text">
        <h1 id="activity-tilemap-intro">Activity: Tilemap Intro</h1><p>Maps and levels form the basis of many of the most common types of video games; they allow a canvas for the games story to progress, and for the player to explore.</p>
<p>In Arcade, <code>||scene:tilemaps||</code> provide an easy way to design two dimensional maps.</p>
<p>In this activity, students will:</p>
<ul>
<li>Edit a tilemap</li>
<li>Personalize the tiles in the tilemap</li>
<li>“Decorate” a house</li>
</ul>

    <div class="ui info message">
        <div class="content">
            <h4 id="color-coded-tilemap">Color Coded Tilemap</h4><p>This section uses the color coded tilemap in some of the examples.</p>
<p>These were the original style of tilemaps, that got replaced with new blocks prior to the release of arcade.
The new blocks show the tilemap in full as you draw it, allow more tiles at once, and let you set tiles as walls without changing the image.</p>
<p>If you open any example using the edit button, the extension will be automatically added to the project.</p>
<p>If you wish to use these blocks in another project, they can be added using the <code>color-coded-tilemap</code> extension.</p>

        </div>
    </div>
<pre><code class="lang-package">color-coded-tilemap</code></pre>
<h2 id="concept-editing-a-tilemap">Concept: Editing a tilemap</h2><p>The tilemap uses an image to represent a game space that is often much larger than the visible game screen.</p>
<p>Each pixel in a tilemap image translates to and area of 16x16 pixels on the 160x120 pixel game screen.</p>
<p>A <code>||scene:tilemap||</code> is called a “map” because it “maps” a tilemap color to an image that is stored as a tile.</p>
<h2 id="example-1-making-a-tilemap">Example #1: Making a tilemap</h2><p><a target="_blank" rel="nofollow noopener" href="https://youtu.be/eBLl_sQ2bGU"><img class="ui image" src="/static/thumbnail_play_video.png" alt="Link to Video" loading="lazy"></a></p>
<ol>
<li>Review the code below</li>
<li>Copy the code below into your project and run it</li>
</ol>
<pre><code class="lang-blocks">scene.setTileMap(img`
1 1 1 1 1 1 1 1 1 1
1 1 1 5 1 1 5 1 1 1
1 1 1 5 1 1 5 1 1 1
1 1 1 1 1 1 1 1 1 1
1 1 5 1 1 1 1 5 1 1
1 1 1 5 5 5 5 1 1 1
1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1
`)</code></pre>
<p>In this example, we have used <code>||scene:set tilemap to||</code> to set the tilemap to an image of a smile; the smile shows up on the screen, effectively replacing the standard black background.</p>
<h2 id="student-task-1-personalized-tilemap">Student Task #1: Personalized tilemap</h2><ol>
<li>Start with example #1</li>
<li>Modify the image to create a tilemap of your creation (name it “intro tilemap 1”)</li>
</ol>
<h2 id="example-2-creating-tiles-in-a-tilemap">Example #2: Creating tiles in a tilemap</h2><p><a target="_blank" rel="nofollow noopener" href="https://youtu.be/S2fHt1qqCYY"><img class="ui image" src="/static/thumbnail_play_video.png" alt="Link to Video" loading="lazy"></a></p>
<ol>
<li>Review the code below</li>
<li>Copy the code below into your project and run it</li>
</ol>
<pre><code class="lang-blocks">scene.setTileMap(img`
1 1 1 1 1 1 1 1 1 1
1 1 1 5 1 1 5 1 1 1
1 1 1 5 1 1 5 1 1 1
1 1 1 1 1 1 1 1 1 1
1 1 5 1 1 1 1 5 1 1
1 1 1 5 5 5 5 1 1 1
1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1
`)
scene.setTile(5, img`
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5
5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 a
5 5 5 6 6 6 6 6 6 6 6 6 6 5 a a
5 5 5 6 6 6 6 6 6 6 6 6 6 a a a
5 5 5 6 6 6 6 6 6 6 6 6 6 a a a
5 5 5 6 6 6 6 6 6 6 6 6 6 a a a
5 5 5 6 6 6 6 6 6 6 6 6 6 a a a
5 5 5 6 6 6 6 6 6 6 6 6 6 a a a
5 5 5 6 6 6 6 6 6 6 6 6 6 a a a
5 5 5 6 6 6 6 6 6 6 6 6 6 a a a
5 5 5 6 6 6 6 6 6 6 6 6 6 a a a
5 5 5 6 6 6 6 6 6 6 6 6 6 a a a
5 5 5 a a a a a a a a a a a a a
5 5 a a a a a a a a a a a a a a
5 a a a a a a a a a a a a a a a
`, false)</code></pre>
<h2 id="student-task-2-add-tile-to-tilemap">Student Task #2: Add tile to tilemap</h2><ol>
<li>Start with your “intro tilemap 1” code</li>
<li><strong>Modify</strong> the code to include a tile image that is used in the tilemap</li>
</ol>
<h2 id="example-3-words-">Example #3: Words!</h2><p><a target="_blank" rel="nofollow noopener" href="https://youtu.be/bqU8zBSoKl4"><img class="ui image" src="/static/thumbnail_play_video.png" alt="Link to Video" loading="lazy"></a></p>
<ol>
<li>Make a new project (name it “tilemapWords”)</li>
<li>Review the code below</li>
<li>Copy the code below into your project and run it</li>
</ol>
<pre><code class="lang-blocks">scene.setTileMap(img`
. . . . . . . . . .
. . . . . . . . . .
. . . . . . . . . .
. . 6 5 7 8 . . . .
. . . . . . . . . .
. . . . . . . . . .
. . . . . . . . . .
. . . . . . . . . .
`)
scene.setTile(2, img`
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 1 1 1 1 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
`, false)
scene.setTile(3, img`
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f 1 1 1 1 1 1 1 f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 1 1 1 f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 1 1 1 1 1 1 f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
`, false)
scene.setTile(6, img`
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f 1 f f f f f f 1 f f f f
f f f f 1 f f f f f f 1 f f f f
f f f f 1 f f f f f f 1 f f f f
f f f f 1 f f f f f f 1 f f f f
f f f f 1 f f f f f f 1 f f f f
f f f f 1 f f f f f f 1 f f f f
f f f f 1 f f 1 1 f f 1 f f f f
f f f f 1 f 1 f f 1 f 1 f f f f
f f f f 1 1 f f f f 1 1 f f f f
f f f f 1 f f f f f f 1 f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
`, false)
scene.setTile(5, img`
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f 1 1 1 1 1 1 1 f f f f f
f f f f 1 f f f f f 1 f f f f f
f f f f 1 f f f f f 1 f f f f f
f f f f 1 f f f f f 1 f f f f f
f f f f 1 f f f f f 1 f f f f f
f f f f 1 f f f f f 1 f f f f f
f f f f 1 f f f f f 1 f f f f f
f f f f 1 f f f f f 1 f f f f f
f f f f 1 f f f f f 1 f f f f f
f f f f 1 f f f f f 1 f f f f f
f f f f 1 1 1 1 1 1 1 f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
`, false)
scene.setTile(4, img`
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 f f f f f f f f f f f
f f f f 1 1 1 1 1 1 1 f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
`, false)
scene.setTile(7, img`
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f 1 1 1 1 f f f f f f f
f f f f f 1 f f f 1 f f f f f f
f f f f f 1 f f f 1 f f f f f f
f f f f f 1 f f f 1 f f f f f f
f f f f f 1 f f f 1 f f f f f f
f f f f f 1 1 1 1 1 f f f f f f
f f f f f 1 f f 1 f f f f f f f
f f f f f 1 f f f 1 f f f f f f
f f f f f 1 f f f 1 f f f f f f
f f f f f 1 f f f 1 f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
`, false)
scene.setTile(8, img`
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f 1 1 1 1 1 f f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 f f f f 1 f f f f f f
f f f f 1 1 1 1 1 f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
`, false)</code></pre>
<p>In this example, the tiles are changed to correspond to images with letters on them.</p>
<h2 id="student-task-3-hello-world-">Student Task #3: Hello World!</h2><ol>
<li>Start with the code from example #3</li>
<li>Change the <code>||scene:tilemap||</code> image so that it displays “Hello World” instead of just “Word”</li>
<li><strong>Challenge:</strong> create a new tile with an exclamation mark, and change the tilemap so that “Hello World<strong>!</strong>“ is displayed</li>
</ol>
<h2 id="example-4-a-brand-new-home">Example #4: A brand new home</h2><p><a target="_blank" rel="nofollow noopener" href="https://youtu.be/YHYBQ03ecOk"><img class="ui image" src="/static/thumbnail_play_video.png" alt="Link to Video" loading="lazy"></a></p>
<ol>
<li>Make a new project (name it “newHome”)</li>
<li>Review the code below</li>
<li>Copy the code below into your project and run it</li>
</ol>
<p><a target="_blank" rel="nofollow noopener" href="https://makecode.com/_2X5PdkLjp5p5">NewHome project</a></p>
<pre><code class="lang-blocks">let HomeOwner: Sprite = null
HomeOwner = sprites.create(img`
. . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . .
. . . . . f f f f f f . . . . .
. . . . . f f f f f f . . . . .
. . . . . f 9 f 9 f f . . . . .
. . . . . f f f f f f . . . . .
. . . . . f f f f f f . . . . .
. . . . . . . . f . . . . . . .
. . . . . . . f f f . . . . . .
. . . . . . . . f . . . . . . .
. . . . . . . . f . . . . . . .
. . . . . . . f . f . . . . . .
. . . . . . . f . f . . . . . .
. . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . .
. . . . . . . . . . . . . . . .
`, SpriteKind.Player)
scene.setTileMap(img`
f f f f f f f f f f f f f f f f f f f f f f f f f f f f f f f f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f f f f 1 1 f f f f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 f
f f f f f f f f 1 1 f f f f f f 1 1 f f f f f f f f 1 1 f f f f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f f f f f f f f f 1 1 f f f f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f f f f f f f f 1 1 f f f f f f f f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 f 1 1 1 1 1 1 1 1 1 1 1 1 1 f
f f f f f f f f f f f f f f f f f f f f f f f f f f f f f f f f
`)
scene.setTile(15, img`
f f f f f f f f f f f f f f f f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f f f f f f f f f f f f f f f f
f f f f f f f f f f f f f f f f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f d d d d d d f f d d d d d d f
f f f f f f f f f f f f f f f f
`, true)
scene.setTile(2, img`
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 e e e e e e e e e 1 1
1 1 1 1 1 e e e e e e e e e 1 1
1 1 1 1 1 d d d d d e e e e 1 1
1 1 1 1 1 d 1 1 1 d d 1 e e 1 1
1 1 1 1 1 d d d d d d 1 e e 1 1
1 1 1 1 1 d 1 d 1 d d 1 e e 1 1
1 1 1 1 1 d d 1 d 1 d 1 e e 1 1
1 1 1 1 1 d d d d d d 1 e e 1 1
1 1 1 1 1 d 1 1 1 d d 1 e e 1 1
1 1 1 1 1 d d d d d e e e e 1 1
1 1 1 1 1 e e e e e e e e e 1 1
1 1 1 1 1 e e e e e e e e e 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
`, true)
scene.setTile(3, img`
1 1 9 9 9 9 9 9 9 9 9 9 9 9 9 1
1 1 9 9 9 1 1 1 1 1 1 1 9 9 9 1
1 1 9 9 9 1 d 1 d 1 d 1 9 9 9 1
1 1 9 9 9 1 d 1 d 1 d 1 9 9 9 1
1 1 9 9 9 1 1 1 1 1 1 1 9 9 9 1
1 1 9 9 9 9 9 9 9 9 9 9 9 9 9 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
1 1 6 6 6 6 6 6 6 6 6 6 6 6 6 1
`, true)
scene.setTile(4, img`
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 e e e e e e e e e e 1 1 1
1 1 e e e d e 7 1 1 e e e e 1 1
1 e e e a d e 1 1 1 e e e e e 1
1 e e e e e e e e e e e a e e 1
1 e e e e e e f f e e e d d e 1
1 e 7 1 e e f f f f e e 1 1 e 1
1 e 1 1 e e f 1 1 f e e 1 1 e 1
1 e 1 1 e e f f f f e e 1 7 e 1
1 e d d e e e f f e e e e e e 1
1 e e a e e e e e e e e e e e 1
1 e e e e e e e e e e e e e e 1
1 e e e e e 1 1 1 e d a e e e 1
1 1 e e e e 1 1 7 e d e e e 1 1
1 1 1 e e e e e e e e e e 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
`, true)
scene.setTile(5, img`
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 a a a 1 1 1 1 1 1 1 1
1 1 1 1 a a c a a 1 1 1 1 1 1 1
1 1 1 a a c a a a a 1 1 1 1 1 1
1 1 a a c a a a a a a 1 1 1 1 1
1 1 a a a a c a a c a 1 1 1 1 1
1 1 a a a c a a c a a 1 1 1 1 1
1 1 1 a c a a c a a 1 1 1 1 1 1
1 1 1 1 a a a a a 1 1 1 1 1 1 1
1 1 1 1 1 a a a 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
`, false)
controller.moveSprite(HomeOwner, 100, 100)</code></pre>
<p>For the “newHome” example, we have made a tilemap that is significantly larger than the screen size by increasing the size to 32x32 within the <code>||scene:tilemap||</code> image editor.</p>
<p><img class="ui image" src="/static/courses/csintro2/tilemap/tilemap-editor.png" alt="image: tilemap editor" loading="lazy"></p>
<p>We’ve created a few tiles with <code>||scene:wall||</code> set to on - this means that the player won’t be able to move through them.</p>
<p>The example tiles that are provided here are the following:</p>
<blockquote>
<ul>
<li>The black tile represents a wall</li>
<li>The red tile represents a chair</li>
<li>The pink tile represents a bed</li>
<li>The orange tile represents a table</li>
<li>The purple tile represents a rug</li>
</ul>
</blockquote>
<h2 id="student-task-4-decorate-and-move-around-the-house">Student Task #4: Decorate and move around the house</h2><ol>
<li>Start with the code from example #4</li>
<li>Make the camera follow the sprite by adding the <code>||scene:camera follow sprite||</code> block to the <code>||loops:on start||</code> block and set it to follow the <code>||variables:homeOwner||</code></li>
<li>Add home furnishings around the house, by changing some of the white tiles to be some of the other provided tiles</li>
<li>Create another tile with a different image, and place that tile around the house to personalize it</li>
<li><strong>Challenge:</strong> create two more tiles with different sprites, and place them around the house as well.</li>
</ol>
<h2 id="what-did-we-learn-">What did we learn?</h2><ol>
<li><p>What is the default size when you create a new tilemap? Does it perfectly match the screen size?</p>

    <div class="ui info message">
        <div class="content">
            <p> Open the tilemap from the first example in the image editor; it will give the dimensions of the tilemap in the bottom-left corner. When displayed on the screen, each tile in that tilemap will be a 16x16 square.</p>
<p> As a reminder, the <code>||scene:screen height||</code> is 120 pixels, and the <code>||scene:screen width||</code> is 160 pixels.</p>

        </div>
    </div>
</li>
<li><p>When <code>||scene:camera follow sprite||</code> is set to follow a sprite, does that sprite always stay in the center of the screen, or are there times where it somewhere else on the screen? Explain how you know.</p>
</li>
</ol>
<h3 id="-a-rel-nofollow-noopener-href-courses-csintro2-about-teachers-teacher-material-a-"><a  rel="nofollow noopener" href="/pxt-arcade-app/docs/courses/csintro2/about/teachers.html">Teacher Material</a></h3>
    </div>

					<div class="hideprint"></div>
				</div>

			</div>

			
<!-- include footer.html -->
<footer class="ui vertical footer segment hideprint docs inverted" aria-hidden="false">
    <div class="ui center aligned container">
        <div class="ui horizontal link list">
            <a
                class="item"
                href="https://twitter.com/intent/follow?screen_name=MsMakeCode"
                title="Follow us on Twitter"
                target="_blank"
                rel="noopener">
                <i class="huge icon twitter"></i>
            </a>
            <a class="item" href="https://www.youtube.com/channel/UCye7YlvFUUQ1dSy0WZZ1T_Q" title="Subscribe to our YouTube channel"
                target="_blank" rel="noopened">
                <i class="huge icon youtube"></i>
            </a>
            <a class="item" href="mailto:makecode@microsoft.com" title="Send us an Email"
                target="_blank" rel="noopened">
                <i class="huge icon mail"></i>
            </a>
        </div>
        <div class="ui section divider"></div>
        <div class="ui container horizontal small divided link list">
            <a id="langpicker" tabindex="0" class="ui item" rel="noopener">
                <i class="icon xicon globe" aria-hidden="true" role="presentation"></i>Language
            </a>
            <a class="item" href="https://makecode.com/privacy" target="_blank" rel="noopener">Privacy &amp; Cookies</a>
            <a class="item" href="https://makecode.com/termsofuse" target="_blank" rel="noopener">Terms Of Use</a>
            <a class="item" href="https://makecode.com/trademarks" target="_blank" rel="noopener">Trademarks</a>
            <span class="item">© 2022 Microsoft</span>
        </div>
        <div class="ui container horizontal small link list poweredBy">
            <span class="item">Powered by</span>
            <a class="middle aligned" href="https://makecode.com/" title="Microsoft MakeCode"
                target="_blank" rel="noopener">
                <img width="100" src="/static/logo/Microsoft-logo_rgb_c-gray.png" alt="Microsoft">
            </a>
        </div>
    </div>
</footer>

<!-- end include footer.html -->


		</div>

	</div>

    
<!-- include langpicker.html -->
<div id="langmodal" class="ui modal docs" role="dialog" aria-modal="true" aria-describedby="langmodalheader" tabindex="-1">
    <h2 id="langmodalheader" class="header">Select Language</h2>
    <div role="button" class="closeIcon" tabindex="0" aria-label="Close">
        <i class="icon close remove circle" aria-hidden="true"></i>
    </div>

	<div class="content">
	    <div class="group">
            <div id="availablelocales" class="ui cards centered" role="listbox" aria-label="List of available locales"></div>
        </div>
        <div class="ui" id="langmodalfooter">
            <a class="ui" href="/pxt-arcade-app/docs/translate.html" target="_blank" rel="noopener noreferrer">
                How do I add a new language?
            </a>

            <a id="translatebtn" class="ui button" role="button" tabindex="0">
                Translate this page
            </a>
        </div>
    </div>
</div>


<!-- end include langpicker.html -->

	
<!-- include macros.html -->
<!-- macro button -->

<!-- macro vimeo -->

<!-- macro youtube -->

<!-- macro section -->

<!-- macro hide -->

<!-- macro avatar -->

<!-- macro hint -->

<!-- macro codecard -->

<!-- macro tutorialhint -->

<!-- macro reminder -->

<!-- macro alert -->

<!-- macro tip -->

<!-- wrapped around ordinary content -->
<!-- macro main-container -->

<!-- used for 'column' box - they are collected and wrapped in 'column-container' -->
<!-- macro column -->
<!-- macro column-container -->


<!-- Menu on the top of the page -->
<!-- macro item -->

<!-- macro divider -->

<!-- TOC in the sidebar -->
<!-- macro item -->

<!-- macro divider -->

<!-- macro toc-dropdown -->

<!-- macro toc-dropdown-noLink -->

<!-- macro toc-dropdown-noHeading -->

<!-- TODO: duplicates of above for compatability with docsrender.ts;
    remove with pxtlib/docsrender.ts TOC TODOs after cloud bump. -->
<!-- macro top-dropdown -->

<!-- macro top-dropdown-noHeading -->

<!-- macro inner-dropdown -->

<!-- macro nested-dropdown -->
<!-- end include macros.html -->

	
<!-- include tracking.html -->
<script type="text/javascript" src="/pxt-arcade-app/pxtweb.js"></script>
<script type="text/javascript">
    window.loadAppInsights = function (includeCookie) {
        //Backend will patch / + doccdn + / with CDN url and the check that URL ends with the sha would pass
        var isProduction = includeCookie && (/[0-9a-f]{40}\/ai\.2\.min\.js$/.test("/pxt-arcade-app/ai.2.min.js"));
        !function(T,l,y){var S=T.location,k="script",D="connectionString",C="ingestionendpoint",I="disableExceptionTracking",E="ai.device.",b="toLowerCase",w="crossOrigin",N="POST",e="appInsightsSDK",t=y.name||"appInsights";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:"5",version:2,config:d};function v(e,t){var n={},a="Browser";return n[E+"id"]=a[b](),n[E+"type"]=a,n["ai.operation.name"]=S&&S.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=""+e;return 1===t.length&&(t="0"+t),t}return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]="https://"+(o?o+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),c=s[D]||d[D]||"",u=s[C],p=u?u+"/v2/track":d.endpointUrl,(l=[]).push((n="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=t,i=p,(o=(r=v(c,"Exception")).data).baseType="ExceptionData",o.baseData.exceptions=[{typeName:"SDKLoadFailed",message:n.replace(/\./g,"-"),hasFullStack:!1,stack:n+"\nSnippet failed to load ["+a+"] -- Telemetry is disabled\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\nHost: "+(S&&S.pathname||"_unknown_")+"\nEndpoint: "+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,"Message"),r=i.data;r.baseType="MessageData";var o=r.baseData;return o.message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\"/g,"")+'"',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:"cors"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&""!==e||"undefined"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName("head")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n="track",r="TrackPage",o="TrackEvent";t([n+"Event",n+"PageView",n+"Exception",n+"Trace",n+"DependencyData",n+"Metric",n+"PageViewPerformance","start"+r,"stop"+r,"start"+o,"stop"+o,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c="onerror";t(["_"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m["_"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{
            src: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", // The SDK URL Source
            onInit: function (sdk) {
                sdk.addTelemetryInitializer(function (envelope) {
                    // App Insights automatically sends a page view event on setup, but we send our own later with additional properties.
                    // This stops the automatic event from firing, so we don't end up with duplicate page view events.
                    if (envelope.baseType == "PageviewData" && !envelope.baseData.properties) {
                        return false;
                    }

                    if (envelope.baseType == "PageviewPerformanceData") {
                        var pageName = envelope.baseData.name;
                        envelope.baseData.name = window.location.origin;
                        if (!envelope.baseData.properties) {
                            envelope.baseData.properties = {};
                        }
                        envelope.baseData.properties.pageName = pageName;
                        var scrubbedUrl = scrubUrl(envelope.baseData.uri);
                        envelope.baseData.uri = scrubbedUrl;
                        var toUrl = new URL(scrubbedUrl);
                        envelope.baseData.properties.pathName = toUrl ? toUrl.pathname : "";
                        if (envelope.ext && envelope.ext.trace) {
                            envelope.ext.trace.name = toUrl ? toUrl.pathname : "";
                        }
                    }

                    var telemetryItem = envelope.baseData;
                    telemetryItem.properties = telemetryItem.properties || {};
                    telemetryItem.properties["cookie"] = isProduction;
                    if (typeof pxtConfig === "undefined" || !pxtConfig || !pxtConfig.targetId) {
                        telemetryItem.properties["target"] = "arcade";
                        return true;
                    }
                    telemetryItem.properties["target"] = pxtConfig.targetId;
                    telemetryItem.properties["stage"] = (pxtConfig.relprefix || "/--").replace(/[^a-z]/ig, '')
                    if (typeof Windows !== "undefined")
                        telemetryItem.properties["WindowsApp"] = 1;
                    var userAgent = navigator.userAgent.toLowerCase();
                    var electronRegexResult = /\belectron\/(\d+\.\d+\.\d+.*?)(?: |$)/i.exec(userAgent); // Example navigator.userAgent: "Mozilla/5.0 Chrome/61.0.3163.100 Electron/2.0.0 Safari/537.36"
                    if (electronRegexResult) {
                        telemetryItem.properties["Electron"] = 1;
                        telemetryItem.properties["ElectronVersion"] = electronRegexResult[1];
                    }
                    if (typeof pxtElectron !== "undefined") {
                        telemetryItem.properties["PxtElectron"] = 1;
                        telemetryItem.properties["ElectronVersion"] = pxtElectron.versions.electronVersion;
                        telemetryItem.properties["ChromiumVersion"] = pxtElectron.versions.chromiumVersion;
                        telemetryItem.properties["NodeVersion"] = pxtElectron.versions.nodeVersion;
                        telemetryItem.properties["PxtElectronVersion"] = pxtElectron.versions.pxtElectronVersion;
                        telemetryItem.properties["PxtCoreVersion"] = pxtElectron.versions.pxtCoreVersion;
                        telemetryItem.properties["PxtTargetVersion"] = pxtElectron.versions.pxtTargetVersion;
                        telemetryItem.properties["PxtElectronIsProd"] = pxtElectron.versions.isProd;
                    }
                    // Kiosk UWP info is appended to the user agent by the makecode-dotnet-apps/arcade-kiosk UWP app
                    var kioskUwpRegexResult = /\((MakeCode Arcade Kiosk UWP)\/([\S]+)\/([\S]+)\)/i.exec(userAgent); // Example navigator.userAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36 Edg/117.0.2045.60 (MakeCode Arcade Kiosk UWP/0.1.41.0/Windows.Xbox)"
                    if (kioskUwpRegexResult) {
                        telemetryItem.properties["KioskUwp"] = 1;
                        telemetryItem.properties["KioskUwpVersion"] = kioskUwpRegexResult[2];
                        telemetryItem.properties["KioskUwpPlatform"] = kioskUwpRegexResult[3];
                    }
                    return true;
                });
            },
            cfg: {
                instrumentationKey:"9801ed01-c40f-46ec-aa40-2a1742a9e71c",
                disableAjaxTracking: true,
                overridePageViewDuration: false,
                disableExceptionTracking: true,
                disableCorrelationHeaders: true,
                disableCookiesUsage: !isProduction,
                isStorageUseDisabled: !isProduction,
                url: "/pxt-arcade-app/ai.2.min.js"
            }
        });
        window.appInsights=appInsights;
        var location = window.location.toString();
        appInsights.trackPageView({
            name: window.location.hostname,
            uri: window.location.origin,
            properties: {
                url: scrubUrl(location),
                urlReferrer: scrubUrl(document.referrer.toString())
            }
        });

        // Scrub potential PII from the URL.
        function scrubUrl(url) {
            if (!url) return url;

            var scriptIdRegex = /(?:S?\d{5}-\d{5}-\d{5}-\d{5})|(?:_[0-9a-zA-Z]{12})/g;
            var scrubbedUrl = new URL(url.toLocaleLowerCase().replace(scriptIdRegex, "xxxxx-xxxxx-xxxxx-xxxxx"));

            // Just as a precaution, strip any suspicious query parameters.
            var blockedParamKeywords = ["username", "password", "token", "pwd"];
            var searchParams = Array.from(scrubbedUrl.searchParams.keys());
            for (var param of searchParams) {
                if (blockedParamKeywords.some(k => param.indexOf(k) != -1)) {
                    scrubbedUrl.searchParams.delete(param);
                }
            }

            return scrubbedUrl.toString();
        }

        return isProduction;
    }
    pxt.initAnalyticsAsync();
</script>

<!-- end include tracking.html -->


</body>

</html>